# 1. Field operator的对易关系

考虑一个量子多体系统。令$k_{i}$表示第$i$个量子态。则系统的态为$\ket{k_{i_{1}},k_{i_{2}},\dots}$。我们令$n_{i}:=\text{the number of particles in state }k_{i}$。我们试图占据数的notation $\ket{n_{1},n_{2},\dots}$来表示$\ket{k_{i_{1}},k_{i_{2}},\dots}$。显然without ambiguity地：
$$
 \ket{0,\dots,0,n_{i}=1,0,\dots}= \ket{k_{i}} 
$$
我们假设存在某非零矢量的态$\ket{0}:=\ket{0,\dots}$，称为vacuum，存在两种场算符$a_{i}^{\dagger},a_{i}$，使得：
$$\begin{align}
 & a^{\dagger}_{i}\ket{0}  =\ket{0,\dots,0,n_{i}=1,0,\dots}  \\
 & a_{i}\ket{0,\dots,0,n_{i}=1,0,\dots }=\ket{0}  \\
  & a_{i}\ket{0} = 0 \\
 & a_{i}\ket{k_{j}} =\delta_{ij}\ket{0} 
\end{align}$$
这样就描述了如何从vacuum创造粒子。

另外，我们假设当系统为全同粒子时，假设：
$$\begin{align}
 & a_{i}^{\dagger}a_{j}^{\dagger}\ket{n_{1},\dots}  = a_{j}^{\dagger}a_{i}^{\dagger}\ket{n_{1},\dots} \text{ for bosons} \\
 & a_{i}^{\dagger}a_{j}^{\dagger}\ket{n_{1},\dots} =-a_{j}^{\dagger}a_{i}^{\dagger}\ket{n_{1},\dots} \text{ for fermions}
\end{align}$$
这描述了boson和fermion的性质。所以：
$$[a_{i}^{\dagger},a_{j}^{\dagger}]=0\text{ for bosons},\ \{ a_{i}^{\dagger},a_{j}^{\dagger} \}=0\text{ for fermions}$$
取conjugate容易得到：
$$[a_{i}^{},a_{j}^{}]=0\text{ for bosons},\ \{ a_{i}^{},a_{j}^{} \}=0\text{ for fermions}$$
我们假设场算符可以得到粒子数算符：
$$N_{i}=a_{i}^{\dagger}a_{i}\text{ such that }N_{i}\ket{n_{1},\dots} =n_{i}\ket{n_{1},\dots} $$
此时我们对boson只需要再假设对易关系：
$$[a_{i},a_{i}^{\dagger}]=1$$
就可以得到升降的系数：
$$\begin{align}
 & a_{i}^{\dagger}\ket{\dots ,n_{i},\dots} =\sqrt{ n_{i}+1 }\ket{\dots,n_{i}+1,\dots} \\
 & a_{i}\ket{\dots,n_{i},\dots} =\sqrt{ n_{i} }\ket{\dots,n_{i}-1,\dots}  
\end{align}$$
对于fermion，我们可以假设对易关系：
$$\{ a_{i},a_{i}^{\dagger} \}=1$$
容易验证可以得到升降系数：
$$\begin{align}
 & a_{i}^{\dagger}\ket{\dots,n_{i},\dots} =\sqrt{ 1-n_{i} }\ket{\dots,n_{i}+1,\dots} \\
 & a_{i}\ket{\dots,n_{i},\dots} = \sqrt{ n_{i} }\ket{\dots,n_{i}-1,\dots}  
\end{align}$$
但是由于fermion限制$n_{i}=0,1$，所以上升系数写成$\sqrt{ 1+n_{i} }$也无所谓。

又因为在不同的态中升降得到的波函数一定是垂直的，我们有：
$$\begin{align}
 & [a_{i},a_{j}^{\dagger}]=\delta_{ij}\text{ for bosons} \\
 & \{ a_{i},a_{j}^{\dagger} \}=\delta_{ij}\text{ for fermions}
\end{align}$$
那么我们有：

>[!Note] Postulate 1
>For bosons:
>$$[a_{i}^{\dagger},a_{j}^{\dagger}]=0,[a_{i},a_{j}]=0,[a_{i},a_{j}^{\dagger}]=\delta_{ij}$$
>For fermions:
>$$\{ a_{i}^{\dagger},a_{j}^{\dagger} \}=0,\{ a_{i},a_{j} \}=0,\{ a_{i},a_{j}^{\dagger} \}=\delta_{ij}$$


# 2. Second quantization下的算子

>[!Note] Proposition 1
>Consider a system of identical particles. Let $\mathscr{K}=\sum_{i}K_{i}$ be an additive operator. Let $\{ \ket{k_{i}} \}$ be the set of eigenstates of $\mathscr{K}_{i}$. Let $a_{i}^{\dagger},a_{i}^{}$ be the field operators for these states. Then:
>$$\mathscr{K}=\sum_{i}k_{i}a_{i}^{\dagger}a_{i}^{}$$
## Remark
Additive operator就是说里面每个operator都一样，只不过作用在不同粒子上。我把这个一样的operator记为$K_{1}=K_{2}=\dots=K$。例如Ising model的total spin operator $S^z=\sum_{i}S_{i}^z$。
## Proof.

对于全同粒子系统，考虑additive operator：
$$\mathscr{K}=\sum_{i}\mathscr{K}_{i}$$
那么，在${K}_{i}$本征态下$\{ \ket{k_{i}} \}$，令：
$${K}_{i}\ket{k_{\mu_{1}},\dots} =k_{\mu_{i}}\ket{k_{\mu_{1}},\dots} $$
那么显然：
$$\begin{align}
\mathscr{K}\ket{n_{1},\dots}  & = \sum_{i}k_{i}n_{i}\ket{n_{1},\dots} \\
 & = \sum_{i}k_{i} a_{i}^{\dagger}a_{i}\ket{n_{1},\dots} \text{ for all }\ket{n_{1},\dots}   
\end{align}$$
所以：
$$\mathscr{K}=\sum_{i}k_{i}a_{i}^{\dagger}a_{i}^{}$$
>[!Right]
>$\blacksquare$

那么，在其他本征态构成的基下，如何构建算子$\mathscr{K}$呢？

考虑全同粒子的一套本征态$\{ \ket{k_{i}} \}$。在这套本征态中创造/消灭粒子，可以定义field operator $a_{i},a_{i}^{\dagger}$。如果有另外一套本征态$\{ \ket{l_{i}} \}$，在这套本征态中创造/消灭粒子，可以定义field operator $b_{i},b_{i}^{\dagger}$。那么：
$$\begin{align}
 & \ket{k_{i}} =\sum_{j} \ket{l_{j}}\bra{l_{j}} k_{i}\rangle \\
  \implies &  a_{i}^{\dagger}\ket{0} = \sum_{j}b_{j}^{\dagger}\ket{0} \bra{l_{j}}k_{i}\rangle 
\end{align}$$
要得到这个关系的必要条件为：
$$a_{i}^{\dagger}= \sum_{j}b_{j}^{\dagger}\bra{l_{j}} k_{i}\rangle$$
>[!Note] Postulate 1
>Let $a_{i},a_{i}^{\dagger}$ be the field operators of states $\{ \ket{k_{i}} \}$, $b_{i},b_{i}^{\dagger}$ be the field operators of states $\{ \ket{l_{i}} \}$, then
>$$a_{i}^{\dagger}=\sum_{j}b_{j}^{\dagger}\bra{l_{j}} k_{i}\rangle$$

>[!Note] Proposition 2
>Let $\{ \ket{l_{j}} \}$ be an arbitrary orthonormal basis. Let $b_{i},b_{i}^{\dagger}$ be the field operators of this basis. Let $\mathscr{K}=\sum_{i}{K}_{i}$ be an additive operator. Then:
>$$\mathscr{K}=\sum_{i,j}b_{i}^{\dagger}b_{j}^{}\bra{l_{i}} {K}_{}\ket{l_{j}} $$
## Proof.
$$\begin{align}
\mathscr{K} & = \sum_{i}k_{i}a_{i}^{\dagger}a_{i}^{} \\
 & = \sum_{i,j,k}k_{i} b_{j}^{\dagger}b_{k}^{} \bra{l_{j}} k_{i}\rangle \bra{k_{i}} l_{k}\rangle \\
 & = \sum_{j,k}b_{j}^{\dagger}b_{k}^{}\bra{l_{j} } \left(\sum_{i}k_{i}\ket{k_{i}} \bra{k_{i}}\right)  \ket{l_{k}} \\
 & = \sum_{j,k} b_{j}^{\dagger}b_{k}^{}\bra{l_{j} }{K}_{}\ket{l_{k}}    
\end{align}$$
>[!Right]
>$\blacksquare$

假设有某种两两相互作用算子$V$。令$V_{kl}\in \mathbb{R}$代表两个粒子一个处于$\ket{k_{k}}$，一个处于$\ket{k_{l}}$的作用能量。对于全同粒子系统，可以定义$\mathscr{V}=\sum_{i \neq j}V^{(i,j)}$，其中$i,j$为粒子的index。二次量子化中，省略粒子index $i,j$，我们有：

$$\begin{align}
\mathscr{V}\ket{n_{1},\dots}  & = \binom{n_{1} }{2}V_{11}\ket{n_{1},\dots} + \binom{n_{2}}{2 }V_{22}\ket{n_{1},\dots} +\dots+ \frac{1}{2} \sum_{i \neq j} V_{ij} \ket{n_{1},\dots} \\
  
\end{align}$$
其中前面那些代表处于同个态的粒子中随便选两个来相互作用。最后一项代表不同态之间粒子相互作用。前面$\frac{1}{2}$是为了减去重复。进而：
$$\begin{align}
\mathscr{V}\ket{n_{1},\dots}   & = \frac{1}{2}\sum_{i} n_{i}(n_{i}-1)V_{ii}\ket{n_{1},\dots} + \frac{1}{2}\sum_{i\neq j}n_{i}n_{j}V_{ij}\ket{n_{1},\dots}  \\
 & = \frac{1}{2}\sum_{i} N_{i}(N_{i}-1)V_{ii}\ket{n_{1},\dots} + \frac{1}{2}\sum_{i \neq j}N_{i}N_{j} V_{ij}\ket{n_{1},\dots} 
\end{align}$$
那么：
$$\begin{align}
\mathscr{V} & = \frac{1}{2}\sum_{i}N_{i}(N_{i}-1)V_{ii}+ \frac{1}{2}\sum_{i\neq j} N_{i}N_{j}V_{ij} \\
 & = \frac{1}{2}\sum_{i,j}N_{i}N_{j}V_{ij}-  \frac{1}{2}\sum_{i}N_{i}V_{ii} \\
 & = \frac{1}{2}\sum_{i,j}N_{i}N_{j}V_{ij}- \frac{1}{2}\sum_{i,j}N_{i}V_{ij}\delta_{ij}  \\
 & = \frac{1}{2}\sum_{i,j}V_{ij}(N_{i}N_{j}-\delta_{ij}N_{i})
\end{align}$$
令：
$$\Pi_{ij}= N_{i}N_{j}- \delta_{ij}N_{i}$$
那么：
$$\mathscr{V}= \frac{1}{2}\sum_{i,j}V_{ij}\Pi_{ij}$$
>[!Note] Proposition 3
>Consider a system of identical particles. Let $\mathscr{V}=\sum_{i,j}V^{(i,j)}$ be a additive two-particle interaction operator. $V_{kl}=\bra{k_{k},k_{l}}V \ket{k_{k},k_{l}}\in \mathbb{R}$ is the interaction energy if two particles are in states $\ket{k_{k}}, \ket{k_{l}}$ respectively. Then:
>$$\mathscr{V}= \frac{1}{2}\sum_{i,j}V_{ij}\Pi_{ij}\text{ where }\Pi_{ij}= N_{i}N_{j}-\delta_{ij}N_{i}$$

我们可以进一步化简：

>[!Note] Proposition 4
$$\Pi_{ij}= a_{i}^{\dagger}a_{j}^{\dagger}a_{j}a_{i}$$
## Proof.
对于boson：
$$\begin{align}
\Pi_{ij} & = N_{i}N_{j}-\delta_{ij}N_{i} \\
 & = a_{i}^{\dagger}a_{i}a_{j}^{\dagger}a_{j}-\delta_{ij}a_{i}^{\dagger}a_{i} \\
 & = a_{i}^{\dagger}(\delta_{ij}+a_{j}^{\dagger}a_{i})a_{j}-\delta_{ij}a_{i}^{\dagger}a_{i} \\
 & = a_{i}^{\dagger}a_{j}^{\dagger}a_{i}a_{j} \\
 & = a_{i}^{\dagger}a_{j}^{\dagger}a_{j}a_{i}
\end{align}$$
对于fermion：
$$\begin{align}
\Pi_{ij} & = a_{i}^{\dagger}a_{i}a_{j}^{\dagger}a_{j}-\delta_{ij}a_{i}^{\dagger}a_{i} \\
 & = a_{i}^{\dagger}(\delta_{ij}-a_{j}^{\dagger}a_{i})a_{j}-\delta_{ij}a_{i}^{\dagger}a_{i} \\
 & = -a_{i}^{\dagger}a_{j}^{\dagger}a_{i}a_{j} \\
 & = a_{i}^{\dagger}a_{j}^{\dagger}a_{j}a_{i}
\end{align}$$
>[!Right]
>$\blacksquare$

## Ex:
对于fermion，我们有：
$$\mathscr{V}= \frac{1}{2}\sum_{i,j}V_{ij}a_{i}^{\dagger}a_{j}^{\dagger}a_{j}a_{i}$$
对角元$V_{ii}a_{i}^{\dagger}a_{i}^{\dagger}a_{i}a_{i}=0$，因为fermion占据数最多一个。用$a_{i}$降两次必到零。

那么：

>[!Note] Proposition 5
>Let $\{ \ket{l_{i}} \}$ be an orthonormal basis. Let $b_{i},b_{i}^{\dagger}$ be the field operators corresponding to this basis. Then:
>$$\mathscr{V}= \frac{1}{2}\sum_{ m,n,p,q} \bra{l_{m},l_{n}}V \ket{l_{q},l_{p}} b_{m}^{\dagger}b_{n}^{\dagger}b_{p}b_{q} $$
## Proof.
$$\begin{align}
\mathscr{V} & = \frac{1}{2}\sum_{i,j}V_{ij} a_{i}^{\dagger}a_{j}^{\dagger}a_{j}a_{i} \\
 & = \frac{1}{2} \sum_{i,j,m,n,p,q} V_{ij} b_{m}^{\dagger}\bra{l_{m}} k_{i}\rangle b_{n}^{\dagger} \bra{l_{n}} k_{j}\rangle b_{p}\bra{k_{j}}l_{p}\rangle b_{q}\bra{k_{i}} l_{q}\rangle \\
 & = \frac{1}{2}\sum_{m,n,p,q} \left( \sum_{i,j}V_{ij}\bra{l_{m}} k_{i}\rangle \bra{l_{n}} k_{j}\rangle \bra{k_{j}} l_{p}\rangle \bra{k_{i}} l_{q}\rangle \right)b_{m}^{\dagger}b_{n}^{\dagger}b_{p}b_{q} \\
 & = \frac{1}{2} \sum_{m,n,p,q}\bra{l_{m},l_{n}}\left(   \sum_{i,j}V_{ij}\ket{k_{i},k_{j}} \bra{k_{i},k_{j}}  \right)\ket{l_{q},l_{p}} b_{m}^{\dagger}b_{n}^{\dagger}b_{p}b_{q} \\
 & = \frac{1}{2}\sum_{m,n,p,q} \bra{l_{m},l_{n}} V \ket{l_{q},l_{p}} b_{m}^{\dagger}b_{n}^{\dagger}b_{p}b_{q}
\end{align}$$
>[!Right]
>$\blacksquare$
## Ex:  Abrikosov fermions

考虑spin operator $\vec{S}$。我们希望把它拆成场算符。

该算符Hilbert space中有两个态$\ket{\uparrow},\ket{\downarrow}$。考虑这两个态的场算符$f_{\uparrow},f_{\downarrow}$。我们可以将这两个态写成Fock state。那么显然有：
$$\begin{align}
 & S^z  = \frac{1}{2}(n_{\uparrow}-n_{\downarrow}) \\
 & S^{+}= f_{\uparrow}^{\dagger}f_{\downarrow} \\
 & S^{-}= f_{\downarrow}^{\dagger}f_{\uparrow}
\end{align}$$
其中我采用自然单位制，令$\hbar=1$。于是容易解得：
$$\begin{align}
 & S^x= \frac{1}{2}(f_{\uparrow}^{\dagger}f_{\downarrow}+f_{\downarrow}^{\dagger}f_{\uparrow}) = \frac{1}{2} \begin{pmatrix}
f_{\uparrow}^{\dagger} & f_{\downarrow}^{\dagger} 
\end{pmatrix} \begin{pmatrix}
0 & 1  \\
1 & 0
\end{pmatrix}\begin{pmatrix}
f_{\uparrow} \\
f_{\downarrow}
\end{pmatrix}= \frac{1}{2}f_{\alpha}^{\dagger}\sigma^x_{\alpha \beta}f_{\beta} \\
 & S^y= \frac{1}{2i}(f_{\uparrow}^{\dagger}f_{\downarrow}-f_{\downarrow}^{\dagger}f_{\uparrow})= \frac{1}{2}f_{\alpha}^{\dagger}\sigma^y_{\alpha \beta}f_{\beta} \\
 & S^z= \frac{1}{2}(f_{\uparrow}f_{\uparrow}^{\dagger}-f_{\downarrow}f_{\downarrow}^{\dagger})= \frac{1}{2}f_{\alpha}^{\dagger}\sigma^z_{\alpha \beta}f_{\beta}
\end{align}$$
所以：
$$\vec{S}= \frac{1}{2}f_{\alpha}^{\dagger}\vec{\sigma}_{\alpha \beta}f_{\beta}$$



