# 1. 熵最大原理

任意一个均一的系统的内能可以这样描述：
$$U=U(S,x)$$
那么我们可以解出$S$：
$$S=S(U,x)$$
这是一个系统的态方程。对于由多个不相互作用的均一子系统构成的系统，我们有：
$$S=\sum S_{i}$$
进而我们可以写：
$$S=S(U_{1},U_{2},\dots,U_{N},x_{1},x_{2},\dots,x_{N})$$
或者直接简写为$S=S(U,x)$。这可以看作一个流形上的函数，即一个hypersurface。这个hypersurface的含义是：

**在系统平衡时，给定$U,x$，我们可以计算系统的$S$。系统的熵处在一个hypersurface上。**

一般来说，系统不能处在整个hypersurface上。例如我可以约束某个特定的work variable：$x_{i}=\text{const.}$。物理上这可以表现为，两个箱气体互相接触，我规定其中某箱气体体积恒定，装在刚性容器中。在没有施加其他约束的情况下，系统仍然可以去往任何符合约束的位置。例如我没有约束另一箱气体的体积，那么那箱气体可以任意膨胀，收缩。

每添加一个约束，$S$就会减少一维。每减少一个约束，$S$就会增加一维。考虑在某套约束下的封闭系统处于平衡态。我们考虑如下问题：

**去掉某个约束后，系统最终在哪个位置平衡？**

去掉某个约束后，系统一般移动到一个新的平衡位置。新的平衡位置一定还在$S(U,x)$上，因为这是系统的态方程。但是中间的移动过程是未知的（有可能甚至没有well-defined的路径）。

由[[熵^theorem12|proposition 1.2]]可知，$\Delta S\geq 0$。所以系统一定移动到了hypersurface上更高的一点。但是更高的点有很多。我们必须假设系统处在新的约束下熵最大的一点：

>[! Postulate 1]
>The thermal equilibrium of an isolated system is achieved when $(dS)_{U}=0,(d^{2}S)_{U}<0$ under the given constraint.
^postulate1
## Remark
我们可以更严格的陈述。对于复合封闭系统，我们一般有：
$$U=U(S,x)\implies S=S(U,x)$$
其中，$U$是子系统能量的集合，$x$是子系统广义功变量的集合。在某套约束下，这些变量被进一步消减。注意，封闭系统的$dU=0$也是一个约束。我们只把$S$写为消减后的独立变量的函数。

于是系统平衡位置，即一套使得系统平衡的独立变量$(\eta_{1},\dots)=\eta=(U_{1},\dots,x_{1},\dots)=(U,x)$由下列方程决定：
$$\frac{\partial S}{\partial \eta_{j}}=0,\ \det((\nabla \otimes \nabla) S)<0$$
# 2. 能量最小原理

既然平衡时总熵取到某种极值，那么总能量会不会也取到某个极值，从而与最大熵原理构成等价命题？

我们考虑：
$$\begin{align}
\left( \frac{\partial U}{\partial x_{j}} \right)_{S} & =- \frac{(\partial S / \partial x_{j})_{U}}{(\partial S / \partial U)_{}}
\end{align}$$