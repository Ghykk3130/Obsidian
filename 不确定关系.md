# 前置讨论

给定一个态$|\psi \rangle$以及一些observables， 观测这个态下的这些observables自然会得到一些不确定的结果（如果这个态不是本征态的话。）。然后我们可以研究这些不确定的结果的standard deviation之间的关系。 当态是定态时，我们得到最为耳熟能详的Heisenberg uncertainty relation。 而当我们让时间流动起来，态开始随时间演化时，可以得到Energy-time uncertainty relation。

# 傅里叶变换与标准差

令$|f|^2$为一个p.d.f。 则$f\in L^2$ 。Recall:
>[!Theorem]
>Parseval's theorem: 若$\hat{f}$为$f$的Fourier变换，则$||f||_2 = ||\hat{f}||_2$ 。 $L^2$ norm is preserved.

于是$|\hat{f}|^2$自然也是一个p.d.f。（$f$ 平方后积分为1 $\Rightarrow$ $\hat{f}$ 平方后积分为1）。

既然$|f|^2, |\hat{f}|^2$为两个p.d.f.， 那么它们对应的随机变量的标准差有什么联系？自然地，设$f = f(x)$，定义了随机变量$X$，$\hat{f} = \hat{f}(k)$定义了随机变量$K$。 那么我们把variance写出来：

$\begin{aligned} & \sigma_x^2=\int|f|^2 x^2 d x-\langle x\rangle^2 \\ & \sigma_k^2=\int|\hat{f}|^2 k^2 d k-\langle k\rangle^2\end{aligned}$

因为我们研究的是标准差之间的关系，WLOG, can take $\langle x \rangle^2 = \langle k \rangle^2 = 0$ 。
>[! Remark]
>A generalization of Parseval's theorem: Fourier变换前后两个函数内积不变。$\int f^{*}g = \int \hat{f}^{*} \hat{g}$ 

>[! Theorem]
>Cauchy-Schwartz as a special case of Holder's inequality: 我们回忆起Holder's inequality: $\int |fg| \leq ||f||_{p}\cdot ||g||_{q}$ 。我们注意到等号左边可以放松为$|\int fg| \leq \int |fg|$ 于是有（取$p = q = \frac{1}{2}$）：
>$|\int fg| \leq ||f||_{1/2}\cdot ||g||_{1/2}$ 这个其实不完全是Cauchy，因为LHS还不是一个内积。但是我们把$f$取个conjugate就变成一模一样的Cauchy了。

现在我们对$xf(x), (f^{*})^{'}$使用上述不等式（加了星号conjugate就是用的Cauchy。当然我们也可以不加星号当成Holder来用。这里我们选择加上。）:

$\left|\int x f\left(f^*\right)^{'}\right|^2 \leqslant\left(\int|x f|^2\right)\left(\int\left|\left(f^*\right)^{'}\right|^2\right)$

我们希望右手边可以化成两个标准差平方相乘，左手边化成一个lower bound。我们先试图积开左手边（分部积分）：

$\begin{aligned} \int x f\left(f^*\right)^{\prime} & =\left[x f f^*\right]-\int(x f)^{\prime} f^* \\ & =-\int|f|^2-\int x f^{\prime} f^* \\ & =-1-\int x f^{\prime} f^*\end{aligned}$

于是：

$\operatorname{Re}\left(\int x f\left(f^*\right)^{\prime}\right)=-\frac{1}{2}$

而左手边那个平方肯定会大于里面的玩意的取实部的平方，这样下界就出来了：

$LHS \geq \frac{1}{4}$ 

现在来看RHS。RHS的第一项已经是我们想要的了。我们来做第二项。（我们可以把星号扔掉了）我们想把导数扔掉。Recall:

1） $\hat{f^{'}} = ik\hat{f}$ ，

而且$\int |f^{'}|^2 = \int |\hat{f^{'}}|^2$ (Fourier变换保$L^2$ norm（Parseval）)。 于是：

2） $\begin{aligned} \int\left|\left(f^*\right)^{'}\right|^2 & =\int\left|f^{\prime}\right|^2 \\ & =\int\left|\widehat{f^{\prime}}\right|^2 \\ & =\int k^2|\hat{f}|^2\end{aligned}$

整理一下可得：

3） $\sigma_{x}^2\sigma_{k}^2\geq \frac{1}{4}$ 


若是量子力学中带有$\hbar$形式的Fourier变换，则1）需要改成$\hat{f^{'}} = i\frac{k}{\hbar} \hat{f}$ 。相应地，二也就变成:

$\int\left|\left(f^*\right)^{'}\right|^2 = \frac{1}{\hbar^2} \int k^2 |\hat{f}|^2$

那么3）也要相应变成： $\sigma_{x}^2\sigma_{k}^2\geq \frac{1}{4} \hbar^2$

# 两个算子不交换的一个结论






# Heisenberg uncertainty relation

我们考虑任意一个态$| \psi \rangle$， 我们可以再在$x$这个observable的本征态下展开它：

4） $\begin{aligned}|\psi\rangle & =\int|x\rangle\langle x \mid y\rangle d x \\ & =\int c(x)|x\rangle d x\end{aligned}$

我可以这样理解系数$c(x)$： 我们将4）左乘一个bra$\langle x^{'}|$ 再两边平方，我们就得到结论：其实$|c(x)|^2$就是$x$的p.d.f. 。  因为$|\langle x^{'} | \psi \rangle|^2$就是当系统处于态$|\psi\rangle$时，观测到位置是$x^{'}$的概率（密度）。而右手边就是我们的$|c(x^{'})|^2$。 

如何直观地理解观测算符$x$得到的标准差呢？其实就是p.d.f.的宽度对吧？于是我们plot $|c(x)|^2$against $x$（这里x是算符x的本征值的意思），曲线的“宽度”就是标准差。

同样地，也可以在$p$的本征矢下展开：

5） $\begin{aligned}|\psi\rangle & =\int|p\rangle\langle p \mid \psi\rangle d p \\ & =\int b(p)|p\rangle d p\end{aligned}$

于是$|b(p)|^2$也就是观测$p$得到的p.d.f.。


现在我们想说，其实$c(x)$和$b(p)$是由Fourier变换联系起来的。注意到这两个积分的右手边都有点像Fourier变换。但是好像还差另一个变量的样子。我们不妨，例如说在2）的两边同时乘$\langle x |$， 去引入这个原先没有的x变量。于是：

6） $\langle x \mid \psi\rangle=\int b(p)\langle x \mid p\rangle d p$

OTOH，LHS其实又是$c(x)$（你可以将1）两边同时也左乘一个x的bra就可以看出来了。）。于是我们就希望那个$\langle x | p \rangle$就是Fourier变换的那个基。

乍看之下好像这玩意不好直接算出来，其实很简单。这玩意就是$p$算符的本征值为$p$的本征矢在坐标表象下的展开。 即$\langle x| p \rangle = exp(\frac{i}{\hbar}px)$ 。于是我们得到：

7） $c(x)=\int b(p) e^{\frac{i}{\hbar} p x} d p$

这果真是（逆）Fourier变换！那么自然就可以得到：

>[! Note]
>$\sigma_{x}^2\sigma_{p}^2\geq \frac{1}{4}\hbar^2$ 

>[! Remark]
>为什么这里好像没有用到$[x,p] = i\hbar$就推出了不确定关系的样子？这是因为这commutation relation导出了算子$p$在坐标表象下的算符，然后我们才能解出$p$的本征函数，然后才能论证$x$和$p$的p.d.f.互为Fourier变换。所以我们其实implicitly地用了。


# Energy-time uncertainty relation

## 讨论 1

首先申明，此处的推导假设了能量在态$|\psi(0) \rangle$分布地即其狭窄。让我们阐述这一块的逻辑来论证这是一个合理的假设。首先，energy-time uncertainty relation一般是用来处理电子spontaneous emission的。在没有发现spontaneous emission的时候，我们认为电子激发态的能量是精确的。系统处于完全的定态中，电子根本不会有一丝一毫的跃迁，只会一直在本征态里面做相位的波动。于是自发跃迁的characteristic time为无限。这个时候有人发现了spontaneous emission，我们这时就假设能量仍然几乎是精确的，然后反过来推出能量的谱线宽，然后发现这个宽的确十分地狭窄。

那么为什么谱线有宽度呢？据QED说这是因为真空的影响。所以我们解的氢原子的定态是纯理想化的，与宇宙中任何东西隔离的氢原子的态。这种氢原子不存在spontaneous emission。而真实的氢原子总有谱线宽的。

## 讨论 2

倘若一切都是定态，给定两个算子，例如说$H$和$B$，和一个态$|\psi \rangle$， 我们原则上来讲可以像Heinsenber uncertainty relation里一样通过观测任意一个算子得到的分布函数算到观测另一个算子的分布函数（在Heisenberg uncertainty relation里面算子取得是$x$和$p$。）例如下面这样：

先将态在两个算子的本征基下展开：

$\begin{aligned}|\psi\rangle & =\int|E\rangle\langle E \mid \psi\rangle d E \\ & =\int c(E)|E\rangle d E \\ |\psi\rangle & =\int|b\rangle\langle b \mid \psi\rangle d b \\ & =\int d(b)|b\rangle d b\end{aligned}$

那么$c(E)$可以这样算到：

$c(E)=\langle E \mid \psi\rangle=\int d(b)\langle E \mid b\rangle d b$

如果我们充分了解$H$和$B$， 那么计算$\langle E| b \rangle$是没什么问题的。当然这不一定是傅里叶变换里面用到的那个基。

于是$d(b)$就完全是$b$的函数。只要确定了$b$， 那测到$b$的概率密度就完全定了。

但是如果考虑时间的演化，即便是确定了$b$，我们测到$b$的概率密度也会随着时间变化。也就是说概率密度$d = d(b,t)$是算子本征值以及时间两个量的函数。我们就想知道这个概率密度随着时间的演化是怎样的。例如说当时间很大的时候，有没有可能测到$b$的概率无限趋近于零？

## 正式推导

由于时间没有对应的算子，我们只能用Fourier变换找这个不确定关系。

我们在零时刻用能量的本征矢展开态$| \psi \rangle$： 

8） $\begin{aligned}|\psi(0)\rangle & =\int|E\rangle\langle E \mid \psi\rangle d E \\ & =\int c(E)|E\rangle d E\end{aligned}$ 

因为我的目标是得到t时刻观测$B$的p.d.f.，我接下来算一下$t$时刻的态：

$|\psi(t)\rangle=\int e^{-\frac{i}{\hbar} E t} c(E)|E\rangle d E$

然后算下$B$在t时刻的p.d.f.：

9） $\begin{aligned}|\langle b \mid \psi(t)\rangle|^2 & =\left|\int e^{-\frac{i}{\hbar} E t} c(E)\langle b \mid E\rangle d E\right|^2 \\ & \simeq|\langle b \mid E\rangle\rangle^2\left|\int e^{-\frac{i}{\hbar} E t} c(E) d E\right|^2\end{aligned}$

其中，$|E\rangle$可以提出来是因为我们假设了$E$的分布及其窄，几乎就是确定的。

>[! Remark]
>我们发现，6）的第一项是一个“空间项”（如果把$b$想成坐标的话），第二项是一个时间项。于是我们相当于对$B$在t时刻的p.d.f.做了变量分离。时间项是一个近似于能量的分布的Fourier变换的东西。

于是如果fix b，也就是说我只去观测$B$为b的结果，这个分布是一个时间的函数。由Fourier变换可得，这个fix b后的分布有一个“标准差”。（我们不能把这个想象成标准差因为t压根就不是一个随机变量，不是一个observable，没有不确定的因素在里面。我们说它像一个标准差是因为它characterize了分布在时间上的decay，告诉我们在哪些时间观测到$b$的概率是小的。因此我们用符号$\Delta$而不用$\sigma$。）这个"标准差"与分布$E$的标准差之间的关系写出来就是：

>[! Note]
>$\Delta E \Delta t \sim \hbar$ 

>[! Remark]
>也就是说在零时刻给定一个$E$的分布，确定一个想要观测的observable $B$的某个值$b$，那么在大概$0 \sim \Delta t$的范围内能显著观测到$B$坍缩到这个$b$。 当我拖的时间显著地超过了$\Delta t$再观测，就几乎看不到$B$坍缩到$b$了。反过来说，若$E$的分布没有一丝一毫的拓宽，就纯是一个dirac，那么$\Delta t$将是无限大。那么我们任何时间，无论拖多久观测$B$, 其坍缩到$b$的概率都是一样的。

>[! Remark]
>从另一个角度来讲，如果$E$是完全定的，那么初始态就单是一个$H$的本征矢。显然无论时间怎么演化，这个本征矢还是一直在对应的本征空间里面转（相位变化）。用它测任何observable $B$的概率没变化因为相位在取模的时候取掉了。如果初始态不是一个$H$的本征矢，而是很多$H$的本征矢叠加，也就是说能取到不止一个$E$，那么$E$的分布有一定宽度。这样如果时间演化的话，时间演化造成转动的相位就不能纯净地消掉，因为每个分量转动的角速度与$E$有关，而每个分量的$E$又不同。进而时间的dependence在计算t时刻观测$B$的分布时就会残留。


我们应用一下上述argument来分析spontaneous emission的系统。如果我们把轨道上的粒子数当做我们想要观测的observable $B$， 那么在不同时间观测$B$，得到某个特定粒子数的概率一定是变小的。例如说有$N$个粒子，我们在零时刻观测到$N$个粒子在轨道上的概率是1，但是在很长一段时间后，还观测到有$N$个粒子在轨道上就不太可能了。所以分布是随时间变化的。我们反过来下结论得到轨道的能量一定不是一个精确值，一定有谱线宽度。

