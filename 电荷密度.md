# 1. A useful formula

>[!Lemma 1]
>$$\delta(f(x))=\sum_{i} \frac{\delta(x-x_{i})}{|f^{'}(x_{i})|},\text{ where }x_{i}\text{ are the zeros.}$$
### Proof.
Let $\{ x_{i} \}$ be a sequence of zeros of $f$. WLOG assume that $x_{1}<x_{2}<\dots<x_{N}$ Since the set $\{ x_{i} \}$ is discrete, pick a sequence of points $\{ y_{j} \}$ such that $f$ is monotone in $[y_{j-1},y_{j}],\forall j$. Then $x_{i}$'s have to fall into some of such intervals. We set:
$$g_{j}:=\mathbb{1}_{[y_{j-1},y_{j}]}f$$
Then $g_{j}$ is monotone $\forall j$. Now it suffices to show that:
$$\delta(g_{j}(x))=\frac{\delta(x-x_{i}^{(j)})}{|g_{j}^{'}(x_{i}^{j})|},\text{ where }x_{i}^{j} \text{ is the zero point of }f\text{ that falls into }[y_{j-1},y_{j}] $$
Then $\forall A\subset \mathbb{R}$, if $x_{i}^{j}\in A$, we have:
$$\begin{align}
\int_{x\in A}d(g_{j}(x)) \frac{\delta(x-x_{i}^{j})}{|g^{'}(x_{i}^j)|} & = \int dx |g_{j}^{'}(x)| \frac{\delta(x-x_{i}^j)}{|g^{'}(x_{i}^j)|} \\
 & = |g_{j}^{'}(x)_{i}^j| \cdot \frac{1}{|g_{j}^{'}(x_{i}^j)|} \\
 & =1=\int d(g_{j}(x))\delta(g_{j}(x))
\end{align}$$
Since $A$ is arbitrary, we have:
$$\delta(g_{j}(x))=\frac{\delta(x-x_{i}^{(j)})}{|g_{j}^{'}(x_{i}^{j})|}$$
If $x_{i}^j \notin A$, obviously I have:
$$\delta(g_{j}(x))=0=\frac{\delta(x-x_{i}^{(j)})}{|g_{j}^{'}(x_{i}^{j})|}$$
Then since $f=\sum_{j}g_{j}$, done.
>[!Right]
>$\blacksquare$

Generalize to continuum, we get:

>[! Corollary 1]
$$\delta(f(\vec{x}))=\int_{f^{-1}(\{ 0 \})}dS^{'} \frac{\delta(\vec{x}-\vec{x}^{'})}{|\nabla f|_{\vec{x}^{'}}|}$$

# 2. 点电荷密度

若在$\vec{r}_{0}$一个点电荷$Q$，我们想知道电荷密度$\rho(\vec{r})$是什么。

我们首先知道，电荷密度在$\vec{r}_{0}$是无限，而不在$\vec{r}_{0}$是零。所以必有：
$$\rho(\vec{r})=\text{const.}\delta(\vec{r}-\vec{r}_{0})$$
而在全空间积分必定得到电荷$Q$，所以：
$$\begin{align}
 & \int_{\mathbb{R}^{3}}d^{3}r\rho(\vec{r})=Q \\
\implies & \text{const.}=Q
\end{align}$$
所以：
$$\rho(\vec{r})= \delta(\vec{r}-\vec{r}_{0})Q$$
# 3. 面电荷密度

若在某个面$f(\vec{r})=c$上均匀分布着电荷$Q$，我们想知道电荷密度。

同样的，因为电荷密度在面上必定是无限，而不在面上是零。所以：
$$\rho(\vec{r})= \text{const.}\delta(f(\vec{r})-c)$$
其中constant由如下方程给定：
$$\begin{align}
 & \int_{\mathbb{R}^{3}}d^{3}r\rho(\vec{r})=Q \\
\implies & \text{const.}\int_{} d^{3}r\delta(f(\vec{r})-c)=Q \\
\implies & \text{const.}\int d^{3}r\int_{\vec{r}^{' }\in f^{-1}(c) }d^{3}r^{'} \frac{\delta(\vec{r}-\vec{r}^{'})}{|\nabla f|}=Q \\
\implies & \text{const.}\int_{\vec{r}^{'}\in f^{-1}(c)} d^{3}r^{'} \frac{1}{|\nabla f|}=Q
\end{align}$$
## Ex：
考虑一个球面。于是$f(\vec{r})= r$。于是$f^{-1}(c)$就是一个半径为$c$的球面。于是：
$$\begin{align}
 & \text{const.} \int_{B(0,c)}d^{3}r^{'} \frac{1}{1}=Q \\
\implies & \text{const.}4\pi c^{2}=Q \\
\implies & \text{const.}= \frac{Q}{4\pi c^{2}}
\end{align}$$

