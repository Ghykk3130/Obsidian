# 1. Liouville定理

>[!Definition]
>Given a Hamiltonian system, define the phase flow $g^{t,t_{0}}$ as:
>$$g^{(t_{},t_{0})}:(q(t_{0})),p(t_{0})\rightarrow(q(t),p(t))$$
>where $(q(0),p(0))$ is an arbitrary point in the phase space, $(q(t),p(t))$ is the solution of the Hamilton's equation starting from $(q(t_{0}),p(0))$ at time $t$.
## Remark
我们必须理解当作用在相空间某点时发生了什么。任取相空间某点$(q,p)$，用$g^{(t_{},t_{0})}$作用在上面，就相当于将Hamiltonian $H(q,p,t)$中的先“调成”$t_{0}$，然后用这个Hamiltonian从$t_{0}$时刻开始将$(q,p)$演化成另一点。对空间中每一点操作构成一个映射，定义为$g^{t,t_{0}}$。我们可以看到，当Hamiltonian显含时间时，将$t$先“调成”$t_{0}$这步操作非常重要。


>[!Proposition 1]
>If $\frac{\partial H}{\partial t}=0$, phase flows constitute a 1-parameter group.
## Handwave
任取一点$(q(t_{0}),p(t_{0}))$，考虑$g^{(t_{1},t_{0})}g^{(t_{2},t_{0})}(q(t_{0}),p(t_{0}))$。

因为$g^{(t_{2},t_{0})}$会将任意从$t_{0}$时刻的点映到$t_{2}$时刻的相应点，$g^{(t_{1},t_{0})}$会将任意从$t_{0}$时刻开始的点映到时刻的相应点。于是$g^{(t_{2},t_{0})}$在初始时将Hamiltonian中时间先调成$t_{0}$，然后将$(q(t_{0}),p(t_{0}))$演化到$(q(t_{2}),p(t_{2}))$。

再用$g^{(t_{1},t_{0})}$对作映射。这又会将Hamiltonian中时间在初始时调成$t_{0}$。但这没用，因为$\frac{\partial H}{\partial t}=0$。所以这个算子等价于$g^{(t_{1}-t_{0}+t_{2},t_{2})}$。

而显然：
$$g^{(t_{1}-t_{0}+t_{2},t_{2})}g^{(t_{2},t_{0})}=g^{(t_{2}+t_{1}-2t_{0},t_{0})}$$
我们发现初始时间$t_{0}$不重要，重要的仅仅是演化的时间。于是记$g^{(t+t_{0},t_{9})}$为$g^{t}$。

取$q^0=\mathbb{1}$为单位元。显然任取$g^{t}$，我们有：
$$g^{-t}g^{t}=\mathbb{1}$$
这是因为Hamilton方程的可逆性。
>[!Right]
>$\blacksquare$

>[!Notation 1]
>If $\frac{\partial H}{\partial t}=0$, denote $g^{(t+t_{0},t_{0})}:=g^{t}$.

**我们下面的讨论都将局限在$\frac{\partial H}{\partial t}=0$的情况下。**

>[!Lemma 1]
>Let $g\in C^1$ be a homeomorphism $\mathbb{R}^n\rightarrow \mathbb{R}^n$, $f\in L^1(\mathbb{R}^n)$ be a function, $M\subset \mathbb{R}^n$ be a Lebesgue-measurable set. Then:
>$$\int_{g(M)}d^nxf(x)=\int_{x\in M}d^n(g(x))f(g(x))=\int_{x\in M}d^nx|\det(g)|f(g(x))$$

>[!Theorem 1]
>Let $M$ be Lebesgue-measurable. Then $m(M)=m(g^{t}M),\forall t$.
## Proof.
我们任取可测集$M$。
$$\begin{align}
\text{RHS} & = m(g^t(M)) \\
 & = \int_{g^t(M)}dqdp \\
 & = \int_{(q,p)\in M}d(g^tq)d(g^tp) 
 \\ & =\int_{M} \frac{\partial(g^tq,g^tp)}{\partial(q,p)}dqdp
\end{align}$$
因为我们想用上Hamilton方程。我们希望出现正则坐标的时间导数。但是上式没有。我们发现要证theorem 1，即证$\frac{d}{dt}(m\circ g^t(M))=0$。

于是：
$$\begin{align}
\frac{d}{dt}(m\circ g^t(M) ) & =\frac{d}{dt}\int_{M} \frac{\partial(g^tq,g^tp)}{\partial(q,p)}dqdp \\
 &= \int_{M} \frac{\partial}{\partial t}\left(  \frac{\partial(g^tq_{},g^tp)}{\partial(q,p)} \right)dqdp
\end{align}$$
不妨记$q^{'}=g^tq,p^{'}=g^tp$。并将一套正则坐标统一记为$(q,p)=\eta,(q^{'},p^{'})=\eta^{'}$。则Jacobian的时间导为：
$$\begin{align}
\frac{\partial}{\partial t}\left(  \frac{\partial(q^{'},p^{'})}{\partial(q,p)} \right) & = \frac{\partial}{\partial t}\left( \frac{\partial(\eta_{1}^{'},\dots,\eta_{N}^{ '})}{\partial(\eta_{1},\dots,\eta_{N})} \right) \\
 & = \sum_{j} \frac{\partial(\eta_{1}^{'},\dots,\partial\eta^{'}_{j} / \partial t,\dots,\eta^{'}_{N})}{\partial(\eta_{1},\dots ,\eta_{N})}
\end{align}$$
这是因为Jacobian是一个determinant。而determinant是矩阵元的多项式。由多项式的符合求导，可以得到上式。你可以用$N$元permitation展开看一下就很明显了。

**Caveat:千万不要写成$\frac{\partial}{\partial t}\left( \frac{\partial(\eta_{1}^{'},\dots,\eta_{N}^{ '})}{\partial(\eta_{1},\dots,\eta_{N})} \right) \\= \frac{\partial(\partial\eta_{1}^{'} / \partial t,\dots,\partial\eta^{'}_{j} / \partial t,\dots,\partial\eta^{'}_{N} / \partial t)}{\partial(\eta_{1},\dots ,\eta_{N})}$

而由于：
$$\frac{\partial}{\partial \eta_{k}}\left(  \frac{\partial \eta_{j}^{'}}{\partial t} \right)=\sum_{l}\frac{\partial \eta_{l}^{'}}{\partial \eta_{k}} \frac{\partial }{\partial \eta_{l}^{'}}\left(  \frac{\partial \eta_{j}^{'}}{\partial t} \right)$$
所以Jacobian中第$j$行就都长这样。我们可以根据determinant的线性性将求和移到外面：
$$\begin{align}
\sum_{j} \frac{\partial(\eta_{1}^{'},\dots,\partial\eta^{'}_{j} / \partial t,\dots,\eta^{'}_{N})}{\partial(\eta_{1},\dots ,\eta_{N})} 
 & = \sum_{j,l} \frac{\partial}{\partial \eta_{l}^{'}} \frac{\partial \eta_{j}^{'}}{\partial t} \frac{\partial(\eta_{1}^{'},\dots,\eta^{'}_{l} ,\dots,\eta^{'}_{N})}{\partial(\eta_{1},\dots ,\eta_{N})}
\end{align}$$
由行列式性质，我们知道除非$l=j$，不然行列式为零。所以：
$$\sum_{j,l} \frac{\partial}{\partial \eta_{l}^{'}} \frac{\partial \eta_{j}^{'}}{\partial t} \frac{\partial(\eta_{1}^{'},\dots,\eta^{'}_{l} ,\dots,\eta^{'}_{N})}{\partial(\eta_{1},\dots ,\eta_{N})}=\left(\sum_{j} \frac{\partial  \dot{\eta}_{j}^{'}}{\partial \eta_{j}^{'}}\right) \frac{\partial(\eta_{1}^{'},\dots,\eta_{N}^{N})}{\partial(\eta_{1},\dots,\eta_{N})}$$
接下来容易看出：
$$\begin{align}
\sum_{j} \frac{\partial  \dot{\eta}_{j}^{'}}{\partial \eta_{j}^{'}} & =\sum_{i} \left(\frac{\partial^{2}H}{\partial q_{i}\partial p_{j}}- \frac{\partial^{2}H}{\partial q_{i}\partial p_{j}  }\right)=0
\end{align}$$
>[!Right]
>$\blacksquare$
# 2.

>[!Definition 1]
>Let $f(q,p)$ be a function of the microstates. Then if the quantity below exists, define it as the time average starting from $(q(0),p(0))$:
>$$\bar{f}=\lim_{ T \to \infty }\int_{0}^Tdtf(q(t),p(t)) $$

>[! Theorem 1]
>Let $f$ be an integrable function. Then:
>$$\bar{f}\text{ exists for }(q(0),p(0))\text{ Lebesgue-a.e.} $$

>[!Theorem 2]
>If $(q(0),p(0)),(q^{'}(0),p^{'}(0))$ belong to the same trajectory, and their time averages are defined. Then:
>$$\bar{f}\text{ starting from }(q(0),p(0))=\bar{f}\text{ starting from }(q^{'}(0),p^{'}(0))$$

所以我们看到时间平均不依赖于特定的起始点，只依赖于trajectrory。

>[! Proposition 1]
>Let $H(q,p)$ be the energy, $f(q,p)$ be integrable. Let $\Sigma_{E}= \{ (q,p)|H(q,p)\leq E \}$. Then:
>$$\frac{d}{dE}\int_{\Sigma_{E}}dqdpf=\int_{\partial \Sigma_{E}}dS \frac{f}{|\nabla H|}$$
>
## Proof.



# ???
因为Lebesgue测度是一个空间上可测集到$\mathbb{R}$的函数。因为空间变换，了，所有点发生一个变换，导致可测集也发生变换。我们必须认为存在一个“可测集实体”不变。它由“矢量实体”代表的点构成。我们还要认为存在一个“测度实体”不变。但是因为由可测点表示构成的可测集表示不停地在变化，测度的functional dependence必须要发生一个变化得到一个新的测度的表示。

考虑某个Lebesgure-measurable set $M$。我们可以对它作一个变换$M\mapsto g^{t}M$。我们可以用Lebesgue测度测它得到$m(M),m(g^{t}M)$。显然固定$t$，$m\circ g^t$是一个新的长得像测度的玩意。实际上我们可以证明它是一个测度：

>[!Proposition 2]
>$m\circ g^t$ is a measure.
>
## Proof.
任取disjoint可测集$M_{1},M_{2}$。我们假设$g^t$的性质足够好，以至于将可测集映到可测集，我们有：
$$\begin{align}
m\circ g^t(M_{1} \sqcup M_{2} ) & =m(g^t(M_{1})\sqcup g^t(M_{2})) \\
  & = m\circ g^t(M_{1})\sqcup m\circ g^t(M_{2})
\end{align}$$
>[!Right]
>$\blacksquare$

我们发现，其实这个测度$m\circ g^t$就是Lebesgue测度。

>[!Theorem 1]
>$$m\circ g^t=m,\forall t\in \mathbb{R}$$